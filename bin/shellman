#!/usr/bin/env bash

basher_package_path="$(basher package-path pawamoy/shellman)"

if [ -n "${PYTHONPATH}" ]; then
  PYTHONPATH="${basher_package_path}/src:${PYTHONPATH}"
else
  PYTHONPATH="${basher_package_path}/src"
fi

export PYTHONPATH

if command -v python3 &>/dev/null; then
  /usr/bin/env python3 -m shellman "$@"
elif command -v python &>/dev/null; then
  /usr/bin/env python -m shellman "$@"
else
  echo "shellman: a python interpreter is needed to run this program" >&2
  exit 1
fi
